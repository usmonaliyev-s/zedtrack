{% extends 'base.html' %}

{% block content %}
            <div class="content-page">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="d-flex flex-wrap flex-wrap align-items-center justify-content-between mb-4">
                                <div>
                                    <h4 class="mb-3">Students List</h4>
                                </div>
                                <div>
                                    {% if role == "admin" %}
                                    <a href="{% url 'add-student' %}" class="btn btn-primary add-list">
                                        <svg width="25" height="25" style="padding-right: 7px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff">
                                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                        <g id="SVGRepo_iconCarrier">
                                            <path
                                                fill-rule="evenodd"
                                                clip-rule="evenodd"
                                                d="M12 4C12.5523 4 13 4.44772 13 5V11H19C19.5523 11 20 11.4477 20 12C20 12.5523 19.5523 13 19 13H13V19C13 19.5523 12.5523 20 12 20C11.4477 20 11 19.5523 11 19V13H5C4.44772 13 4 12.5523 4 12C4 11.4477 4.44772 11 5 11H11V5C11 4.44772 11.4477 4 12 4Z"
                                                fill="#ffffff"
                                            ></path>
                                        </g>
                                    </svg>
                                        Add Student
                                    </a>
                                    {% endif %}
                                    <a href="{% url 'student-list-csv' %}" class="btn btn-primary add-list">
                                        <svg xmlns="http://www.w3.org/2000/svg" style="padding-right: 7px;" width="25" height="25" viewBox="0 0 16 16"><g fill="currentColor"><path d="M9 7.826V1H7v6.826L4.392 5.59L3.09 7.108L8 11.318l4.91-4.21l-1.302-1.518z"/><path d="M3 13v-3H1v3a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-3h-2v3z"/></g></svg>
                                        Download data
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-12">
                            <div class="table-responsive rounded mb-3">
                                <table class="data-table table mb-0 tbl-server-info">
                                    <thead class="bg-white text-uppercase">
                                        <tr class="ligth ligth-data">
                                            <th style="text-align: left">Name</th>
                                            <th style="text-align: left">Course</th>
                                            <th style="text-align: left">Gender</th>
                                            <th style="text-align: left">Attendance Rate</th>
                                            <th style="text-align: left">Registered Date</th>
                                            <th style="text-align: left"></th>
                                        </tr>
                                    </thead>
                                    <tbody class="ligth-body">
                                        {% for student in students %}
                                        <tr style="background-color: var(--background-color); color: var(--text-color);">
                                            <td style="background-color: var(--background-color); color: var(--text-color); text-align: left"><a style="background-color: var(--background-color); color: var(--text-color);" href="{% url 'student-details' student.id %}" title="Student Details">{{ student.first_name }} {{ student.last_name }}</a></td>
                                            <td style="background-color: var(--background-color); color: var(--text-color); text-align: left"><a title="Course Details" style="background-color: var(--background-color); color: var(--text-color);" href="{% url 'course-details' student.course_id %}">{{ student.course }}</a></td>
                                            <td style="background-color: var(--background-color); color: var(--text-color); text-align: left">{{ student.gender }}</td>
                                            {% if student.attendance_rate %}
                                            <td style="background-color: var(--background-color); color: var(--text-color); text-align: left">{{ student.attendance_rate|floatformat:2 }}%</td>
                                            {% else %}
                                            <td style="background-color: var(--background-color); color: var(--text-color); text-align: left">0%</td>
                                            {% endif %}
                                            <td style="background-color: var(--background-color); color: var(--text-color); text-align: left">{{ student.registration_date }}</td>
                                            <td style="text-align: left">
                                                <a href="{% url 'student-details' student.id %}" style="display: inline;" title="Details">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16"><path fill="var(--main-color)" fill-rule="evenodd" d="M2 3.75A.75.75 0 0 1 2.75 3h10.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 3.75M2 8a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 8m0 4.25a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1-.75-.75" clip-rule="evenodd"></path></svg>
                                                </a>
                                                <a href="{% url 'edit-student' student.id %}" title="Edit" style="display: inline;">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="var(--main-color)" class="bi bi-pen" viewBox="0 0 16 16">
                                                        <path d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001zm-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708l-1.585-1.585z"></path>
                                                    </svg>
                                                </a>
                                                <a href="{% url 'delete-confirmation-student' student.id %}" title="Delete" style="display: inline;">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="red" class="bi bi-archive" viewBox="0 0 16 16">
                                                        <path d="M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"></path>
                                                    </svg>
                                                </a>
                                            </td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <!-- Page end  -->
                </div>

{% endblock %}